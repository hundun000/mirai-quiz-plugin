
本章的指令示例将以如下格式给出：

>  -> 这是一句指令示例  
>  <- 这是bot对该指令的回复示例

### 标准指令

语法遵循mirai-console的Command的默认语法规则：  

> <指令前缀><指令名> <子指令> <指令参数列表>

本插件的`<指令名>`为`一站到底`或`quiz`。举例时的`<指令前缀>`为`/`。

### 快速回复

为了使比赛进程更流畅，仅当处于比赛进行中状态时，可以不使用`标准指令`，而是使用更简洁的文本来进行等效的操作，称为`快速回复`。详见各个子指令说明。

### 子指令

建议先阅读[一站到底详细说明](一站到底详细说明.md)

### 开始比赛

插件被加载后，处于未开始比赛状态。

每个群的比赛状态独立，答题前，需要执行开始比赛指令。

*<子指令>: 开始比赛*  
*<指令参数列表>[0]: 赛制选择。详见一站到底详细说明*  
*<指令参数列表>[1]: 题目包名。详见一站到底详细说明*  
*<指令参数列表>[2]: 队伍列表。多个队伍间用"&"连接。详见一站到底详细说明*  

>  -> /一站到底 开始比赛 无尽模式 questions_small 游客  
>  <- 开始比赛成功

>  -> /一站到底 开始比赛 单人模式 questions_small 游客  
>  <- 开始比赛成功

>  -> /一站到底 开始比赛 双人模式 questions_small 红方&白方  
>  <- 开始比赛成功

### 出题

*<子指令>: 出题*  

>  -> /一站到底 出题  
>  <- 当前队伍:红方  
>     答题时间:15秒  
>     《紫罗兰永恒花园》中薇尔莉特的名字是来自？  
>     A. 紫罗兰  
>     B. 勿忘我  
>     C. 向日葵  
>     D. 玫瑰  
>     发送选项字母来回答  
>     \[图片\]  

*<快速回复>: 出题*

> -> 出题
>> 其等效于  
>> -> /一站到底 出题

### 答题

*<子指令>: 答题*  
*<指令参数列表>[0]: 选项大写字母*  

根据赛制不同，bot回复的信息内容也不同。队伍`生命`的含义对应该赛制的结束条件。

答题后，比赛离开`待答题`状态，进入`待取题`状态。若答题后比赛尚未结束，可以在这之后任意时刻，再次发出`出题`指令。若比赛已结束，需要再次发出`开始比赛`指令。

无尽模式：
>  -> /一站到底 答题 A  
>  <- @回答者 回答错误QAQ  
>     正确答案是C  
>     游客 +0分  

单人模式：此时生命值对应剩余累计答题数。
>  -> /一站到底 答题 A  
>  <- @回答者 回答错误QAQ  
>     正确答案是C  
>     游客 +0分  
>     队伍状态:  
>     游客 得分:0 生命:4  

双人模式：此时生命值对应该队伍剩余可连续答错题数。
>  -> /一站到底 答题 A  
>  <- @回答者 回答错误QAQ  
>     正确答案是C  
>     白方 +0分  
>     队伍状态:  
>     红方 得分:0 生命:1  
>     白方 得分:1 生命:2   
> 
>     队伍变更: 白方 -> 红方  

*<快速回复>: 选项大写字母*

> -> A
>> 其等效于  
>> -> /一站到底 答题 A  

若未能在答题时间限制内回答，则属于`超时`。同样地，比赛进入`待取题`状态。

>  <- 本题已超时QAQ  
>     正确答案是C  
>     游客 +0分  
>     队伍状态:  
>     游客 得分:0 生命:4 


### 结束比赛

可通过指令提前结束比赛。此时不会统计得分。

*<子指令>: 结束比赛*  

>  -> /一站到底 结束比赛  
>  <- 结束比赛成功